<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoNavi (ã‚¨ã‚³ãƒŠãƒ“) - AI Garbage Sorting Guide for Japan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
        }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: #10b981;
            animation: spin 1s ease infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .drag-area {
            border: 2px dashed #cbd5e1;
            transition: all 0.3s ease;
        }
        .drag-area.active {
            border-color: #10b981;
            background-color: #f0fdf4;
        }
        .drag-area.disabled {
            background-color: #f8fafc;
            border-color: #e2e8f0;
            cursor: not-allowed;
            opacity: 0.6;
        }
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
        }
        .modal-content {
            max-height: 80vh;
            overflow-y: auto;
        }
        /* Toast Notification Styles */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #2d3748;
            color: white;
            padding: 12px 24px;
            border-radius: 9999px;
            z-index: 100;
            opacity: 0;
            transition: opacity 0.5s, bottom 0.5s;
        }
        .toast.show {
            opacity: 1;
            bottom: 40px;
        }
    </style>
</head>
<body class="bg-gray-50 flex items-center justify-center min-h-screen">

    <div class="w-full max-w-md mx-auto bg-white rounded-2xl shadow-lg p-6 sm:p-8 m-4">
        <!-- Header -->
        <div class="text-center mb-6">
            <div class="flex items-center justify-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path><path d="m9 12 2 2 4-4"></path></svg>
                <h1 class="text-2xl sm:text-3xl font-bold text-gray-800">ã‚¨ã‚³ãƒŠãƒ“</h1>
            </div>
            <p class="text-gray-500 mt-2">AIãŒã”ã¿ã®æ­£ä½“ã‚’ç‰¹å®šã—ã€åˆ†åˆ¥ã‚’æ¡ˆå†…ã—ã¾ã™ã€‚</p>
        </div>

        <!-- Step 1: Location Setup -->
        <div class="mb-6">
            <label for="location-search" class="block text-sm font-medium text-gray-700 mb-2">1. ãŠä½ã¾ã„ã®åœ°åŸŸã‚’è¨­å®š</label>
            <div class="relative">
                <div class="flex items-center gap-2">
                    <input type="text" id="location-search" placeholder="å¸‚åŒºç”ºæ‘åã‚’å…¥åŠ› (ä¾‹: æœ­å¹Œå¸‚)" class="w-full bg-gray-100 border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 transition pl-4 pr-10">
                    <button id="get-location-btn" class="p-2 bg-gray-200 hover:bg-gray-300 rounded-lg transition" title="ç¾åœ¨åœ°ã‹ã‚‰æ¤œç´¢">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-600"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                    </button>
                </div>
                <div id="suggestions-container" class="absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg max-h-60 overflow-auto hidden"></div>
                <p id="location-status" class="text-xs text-gray-500 mt-1 h-4"></p>
            </div>
        </div>
        
        <!-- Step 2: Image Upload -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">2. åˆ†åˆ¥ã—ãŸã„ã”ã¿ã®å†™çœŸã‚’ã‚¢ãƒƒãƒ—</label>
            <div id="drag-area" class="drag-area rounded-lg p-8 text-center bg-gray-50 disabled">
                <div id="upload-prompt">
                    <div class="flex flex-col items-center justify-center space-y-4">
                        <svg id="upload-icon" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-gray-400"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
                        <p id="upload-text" class="text-gray-400">å…ˆã«åœ°åŸŸã‚’è¨­å®šã—ã¦ãã ã•ã„</p>
                    </div>
                </div>
                <input type="file" id="file-input" class="hidden" accept="image/*" disabled>
            </div>
        </div>

        <!-- Result Area -->
        <div id="result-area" class="hidden mt-6"></div>

        <!-- New Feature Buttons -->
        <div class="mt-6 grid grid-cols-3 gap-4">
            <button id="open-tips-btn" class="w-full flex flex-col items-center justify-center gap-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold py-3 px-2 rounded-lg transition text-xs sm:text-sm">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2.69l.346.666L19.5 15.31l-7.5-1.5-7.5 1.5.346-.666L12 2.69z"/><path d="M12 2.69L4.5 15.31l7.5-1.5v-10.12z"/></svg>
                <span>ã‚¨ã‚³è±†çŸ¥è­˜</span>
            </button>
            <button id="open-sodai-btn" class="w-full flex flex-col items-center justify-center gap-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold py-3 px-2 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed text-xs sm:text-sm" disabled>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 17.5V13l-3 4h6l-3-4zM20 9l-4 4h3v4h2V8h-3zM4 9l4 4H5v4H3V8h3zM9 4v4H5l4-4zM19 4v4h-4l4-4z"/></svg>
                <span>ç²—å¤§ã”ã¿äºˆç´„</span>
            </button>
            <button id="open-badge-btn" class="w-full flex flex-col items-center justify-center gap-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold py-3 px-2 rounded-lg transition text-xs sm:text-sm">
                 <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 8V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-2"/><path d="M12 8h4a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2z"/><path d="M8 12h.01"/><path d="M16 12h.01"/></svg>
                <span>å®Ÿç¸¾ãƒãƒƒã‚¸</span>
            </button>
        </div>

    </div>

    <!-- Modals -->
    <div id="badge-modal" class="modal-overlay hidden">
        <div class="bg-white rounded-lg shadow-xl w-11/12 max-w-lg p-6 relative modal-content">
            <h2 class="text-2xl font-bold text-center mb-6">å®Ÿç¸¾ãƒãƒƒã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³</h2>
            <div id="badge-container" class="grid grid-cols-3 sm:grid-cols-3 gap-4">
                <!-- Badges will be inserted here by JS -->
            </div>
            <button class="absolute top-4 right-4 text-gray-400 hover:text-gray-600" onclick="closeModal('badge-modal')">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
        </div>
    </div>

    <div id="sodai-modal" class="modal-overlay hidden">
         <div class="bg-white rounded-lg shadow-xl w-11/12 max-w-lg p-6 relative modal-content">
            <h2 class="text-2xl font-bold text-center mb-2">ç²—å¤§ã”ã¿äºˆç´„ã‚µãƒãƒ¼ãƒˆ</h2>
            <p id="sodai-city-name" class="text-center text-gray-500 mb-6"></p>
            <div class="space-y-4">
                <div>
                    <label for="sodai-item" class="block text-sm font-medium text-gray-700">1. æ¨ã¦ãŸã„ã‚‚ã®ã¯ä½•ã§ã™ã‹ï¼Ÿ</label>
                    <select id="sodai-item" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                        <option>é¸æŠã—ã¦ãã ã•ã„</option>
                    </select>
                </div>
                <div id="sodai-info" class="hidden p-4 bg-gray-50 rounded-lg border">
                     <p class="text-sm font-medium text-gray-700">2. æ‰‹æ•°æ–™ã¨æ‰‹ç¶šã</p>
                     <p id="sodai-fee" class="text-2xl font-bold text-indigo-600 mt-1"></p>
                     <p id="sodai-note" class="text-sm text-gray-600 mt-2"></p>
                </div>
                 <div id="sodai-link-container" class="hidden">
                      <p class="text-sm font-medium text-gray-700 mb-2">3. è‡ªæ²»ä½“ã‚µã‚¤ãƒˆã§ç”³ã—è¾¼ã‚€</p>
                      <a id="sodai-link" href="#" target="_blank" rel="noopener noreferrer" class="w-full inline-flex items-center justify-center gap-2 text-base font-bold text-white bg-indigo-600 hover:bg-indigo-700 transition py-3 px-4 rounded-lg">
                        å…¬å¼ã‚µã‚¤ãƒˆã¸é€²ã‚€
                    </a>
                 </div>
            </div>
            <button class="absolute top-4 right-4 text-gray-400 hover:text-gray-600" onclick="closeModal('sodai-modal')">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
        </div>
    </div>
    
    <div id="tips-modal" class="modal-overlay hidden">
        <div class="bg-white rounded-lg shadow-xl w-11/12 max-w-lg p-6 relative modal-content">
            <h2 class="text-2xl font-bold text-center mb-6">ã‚¨ã‚³è±†çŸ¥è­˜ & ãƒ‹ãƒ¥ãƒ¼ã‚¹</h2>
            <div id="tips-container" class="space-y-4">
                <!-- Tips will be inserted here by JS -->
            </div>
            <button class="absolute top-4 right-4 text-gray-400 hover:text-gray-600" onclick="closeModal('tips-modal')">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script>
        // DOM Elements
        const locationSearch = document.getElementById('location-search');
        const suggestionsContainer = document.getElementById('suggestions-container');
        const dragArea = document.getElementById('drag-area');
        const fileInput = document.getElementById('file-input');
        const uploadText = document.getElementById('upload-text');
        const resultArea = document.getElementById('result-area');
        const getLocationBtn = document.getElementById('get-location-btn');
        const locationStatus = document.getElementById('location-status');
        const openSodaiBtn = document.getElementById('open-sodai-btn');
        const openBadgeBtn = document.getElementById('open-badge-btn');
        const openTipsBtn = document.getElementById('open-tips-btn');
        const toast = document.getElementById('toast');
        const badgeContainer = document.getElementById('badge-container');
        const tipsContainer = document.getElementById('tips-container');

        // --- Data ---
        const DETAILED_CITY_DATA = { /* ... */ };
        let ALL_JAPAN_CITIES = [];
        const GARBAGE_RULES = { /* ... */ };

        const BADGE_DEFINITIONS = {
            firstSort: { name: "ã¯ã˜ã‚ã®ä¸€æ­©", desc: "åˆã‚ã¦ã”ã¿ã‚’åˆ†åˆ¥ã—ãŸ", icon: "ğŸ”°", earned: false },
            navigator: { name: "ãƒŠãƒ“ã‚²ãƒ¼ã‚¿ãƒ¼", desc: "ç¾åœ¨åœ°ã‹ã‚‰åœ°åŸŸã‚’è¨­å®š", icon: "ğŸ§­", earned: false },
            planner: { name: "ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼", desc: "ç²—å¤§ã”ã¿æ©Ÿèƒ½ã‚’åˆã‚ã¦åˆ©ç”¨", icon: "ğŸ“‹", earned: false },
            ecoRookie: { name: "ã‚¨ã‚³ãƒ«ãƒ¼ã‚­ãƒ¼", desc: "åˆ†åˆ¥å›æ•°ãŒ10å›ã«åˆ°é”", icon: "ğŸŒ±", earned: false },
            ecoExpert: { name: "ã‚¨ã‚³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ", desc: "åˆ†åˆ¥å›æ•°ãŒ100å›ã«åˆ°é”", icon: "ğŸ†", earned: false },
            recyclePro: { name: "ãƒªã‚µã‚¤ã‚¯ãƒ«ã®ãƒ—ãƒ­", desc: "è³‡æºã”ã¿4ç¨®é¡ã‚’åˆ¶è¦‡", icon: "ğŸŒ", earned: false },
            hazardousHandler: { name: "å±é™ºç‰©å‡¦ç†ç­", desc: "æœ‰å®³ã”ã¿ã‚’åˆ†åˆ¥ã—ãŸ", icon: "â˜£ï¸", earned: false },
            weeklyHabit: { name: "ã‚¦ã‚£ãƒ¼ã‚¯ãƒªãƒ¼ã‚¨ã‚³", desc: "7æ—¥é–“é€£ç¶šã§åˆ†åˆ¥ã—ãŸ", icon: "ğŸ—“ï¸", earned: false },
            collector: { name: "ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼", desc: "ãƒãƒƒã‚¸ã‚’5å€‹é›†ã‚ãŸ", icon: "ğŸŒŸ", earned: false },
        };

        const ECO_TIPS_DATA = [
            { category: 'ãƒªã‚µã‚¤ã‚¯ãƒ«æŠ€è¡“', title: 'ãƒšãƒƒãƒˆãƒœãƒˆãƒ«ãŒæœã«å¤‰ã‚ã‚‹ï¼Ÿ', content: 'æœ€æ–°ã®æŠ€è¡“ã§ã¯ã€å›åã•ã‚ŒãŸãƒšãƒƒãƒˆãƒœãƒˆãƒ«ã¯æ´—æµ„ãƒ»ç²‰ç •ã•ã‚Œã€é«˜å“è³ªãªãƒãƒªã‚¨ã‚¹ãƒ†ãƒ«ç¹Šç¶­ã«ç”Ÿã¾ã‚Œå¤‰ã‚ã‚Šã¾ã™ã€‚ç§ãŸã¡ãŒç€ã¦ã„ã‚‹ãƒ•ãƒªãƒ¼ã‚¹ã®å¤šãã¯ã€å®Ÿã¯ãƒšãƒƒãƒˆãƒœãƒˆãƒ«ã‹ã‚‰ä½œã‚‰ã‚Œã¦ã„ã‚‹ã®ã§ã™ã€‚' },
            { category: 'ç”Ÿæ´»ã®ãƒ’ãƒ³ãƒˆ', title: 'ã‚³ãƒ³ãƒã‚¹ãƒˆã§ç”Ÿã”ã¿ã‚’æ¸›ã‚‰ãã†', content: 'å®¶åº­ç”¨ã®ã‚³ãƒ³ãƒã‚¹ãƒˆï¼ˆç”Ÿã”ã¿å‡¦ç†æ©Ÿï¼‰ã‚’ä½¿ãˆã°ã€èª¿ç†ããšã‚„é£Ÿã¹æ®‹ã—ã‚’æ „é¤Šè±Šå¯Œãªå †è‚¥ã«å¤‰ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã”ã¿ã®é‡ã‚’æ¸›ã‚‰ã›ã‚‹ã ã‘ã§ãªãã€å®¶åº­èœåœ’ã‚„è¦³è‘‰æ¤ç‰©ã®è‚¥æ–™ã¨ã—ã¦ã‚‚æ´»ç”¨ã§ãã¾ã™ã€‚' },
            { category: 'ä¸–ç•Œã®å–ã‚Šçµ„ã¿', title: 'é‡ã‚Šå£²ã‚Šã‚¹ãƒˆã‚¢ã‚’åˆ©ç”¨ã—ã‚ˆã†', content: 'ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘ã‚’ä¸­å¿ƒã«ã€åŒ…è£…ã®ãªã„å•†å“ã‚’é‡ã‚Šå£²ã‚Šã™ã‚‹ã€Œã‚¼ãƒ­ã‚¦ã‚§ã‚¤ã‚¹ãƒˆã‚·ãƒ§ãƒƒãƒ—ã€ãŒå¢—ãˆã¦ã„ã¾ã™ã€‚ãŠæ°—ã«å…¥ã‚Šã®å®¹å™¨ã‚’æŒå‚ã™ã‚‹ã“ã¨ã§ã€ä¸è¦ãªãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯ã”ã¿ã‚’å‰Šæ¸›ã§ãã¾ã™ã€‚' },
            { category: 'è±†çŸ¥è­˜', title: 'ã‚¢ãƒ«ãƒŸç¼¶ãƒªã‚µã‚¤ã‚¯ãƒ«ã®é©šãã¹ãåŠ¹æœ', content: 'ã‚¢ãƒ«ãƒŸç¼¶ã‚’1ã¤ãƒªã‚µã‚¤ã‚¯ãƒ«ã™ã‚‹ã¨ã€ãƒ†ãƒ¬ãƒ“ã‚’3æ™‚é–“ã¤ã‘ã£ã±ãªã—ã«ã™ã‚‹ã®ã¨åŒã˜é‡ã®é›»åŠ›ã‚’ç¯€ç´„ã§ãã‚‹ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚å°ã•ãªè¡Œå‹•ãŒã€å¤§ããªã‚¨ãƒãƒ«ã‚®ãƒ¼å•é¡Œã«è²¢çŒ®ã—ã¾ã™ã€‚' }
        ];
        
        const SODAI_ITEMS = { /* ... */ };

        let userBadges = {};
        let sortCount = 0;
        let streakCount = 0;
        let lastSortDate = '';
        let varietyTracker = {};
        let selectedLocationName = null;

        const JAPAN_ADDRESS_DATA = { /* ... Full data is assumed here for brevity ... */ };

        // --- Functions ---
        
        function loadCities() { /* ... */ }
        function setUploadAreaState(enabled) { /* ... */ }
        function selectLocation(cityName) { /* ... */ }
        function showSuggestions(filteredCities) { /* ... */ }
        
        async function analyzeImage(base64ImageData) { /* ... */ }

        function renderResult(aiResult, imageSrc) { /* ... */ }
        function handleFile(file) { /* ... */ }
        
        // --- Modal & Toast Functions ---
        function openModal(modalId) { document.getElementById(modalId).classList.remove('hidden'); }
        function closeModal(modalId) { document.getElementById(modalId).classList.add('hidden'); }
        function showToast(message) { /* ... */ }

        // --- Badge Functions ---
        function initBadges() { /* ... */ }
        function unlockBadge(badgeId) { /* ... */ }
        function updateStreak() { /* ... */ }
        function renderBadges() { /* ... */ }
        
        // --- Sodai Gomi Functions ---
        function initSodaiModal() { /* ... */ }

        // --- SNS Share Functions ---
        function shareOnSNS(text) { /* ... */ }
        function shareBadge(badgeId) { /* ... */ }
        
        // --- NEW: Eco Tips Function ---
        function renderTips() {
            tipsContainer.innerHTML = '';
            const categoryColors = {
                'ãƒªã‚µã‚¤ã‚¯ãƒ«æŠ€è¡“': 'bg-blue-100 text-blue-800',
                'ç”Ÿæ´»ã®ãƒ’ãƒ³ãƒˆ': 'bg-green-100 text-green-800',
                'ä¸–ç•Œã®å–ã‚Šçµ„ã¿': 'bg-purple-100 text-purple-800',
                'è±†çŸ¥è­˜': 'bg-yellow-100 text-yellow-800',
            };
            ECO_TIPS_DATA.forEach(tip => {
                const color = categoryColors[tip.category] || 'bg-gray-100 text-gray-800';
                tipsContainer.innerHTML += `
                    <div class="border rounded-lg p-4">
                        <div class="flex justify-between items-center mb-2">
                            <h3 class="font-bold text-lg">${tip.title}</h3>
                            <span class="text-xs font-semibold px-2 py-1 rounded-full ${color}">${tip.category}</span>
                        </div>
                        <p class="text-gray-600 text-sm">${tip.content}</p>
                    </div>
                `;
            });
        }

        // --- Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            loadCities(); 
            initBadges();
        });

        locationSearch.addEventListener('input', () => { /* ... */ });
        getLocationBtn.addEventListener('click', () => { /* ... */ });
        suggestionsContainer.addEventListener('click', (e) => { /* ... */ });
        document.addEventListener('click', (e) => { /* ... */ });
        dragArea.addEventListener('click', () => { /* ... */ });
        dragArea.addEventListener('dragover', (e) => { /* ... */ });
        dragArea.addEventListener('dragleave', () => { /* ... */ });
        dragArea.addEventListener('drop', (e) => { /* ... */ });
        fileInput.addEventListener('change', (e) => { /* ... */ });

        openBadgeBtn.addEventListener('click', () => {
            renderBadges();
            openModal('badge-modal');
        });

        openSodaiBtn.addEventListener('click', () => {
            initSodaiModal();
            openModal('sodai-modal');
        });

        openTipsBtn.addEventListener('click', () => {
            renderTips();
            openModal('tips-modal');
        });
    </script>
</body>
</html>
